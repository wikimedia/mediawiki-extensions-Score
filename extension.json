{
	"name": "Score",
	"version": "0.3.0",
	"author": [
		"Alexander Klauer",
		"Étienne Beaulé"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:Score",
	"descriptionmsg": "score-desc",
	"license-name": "GPL-3.0-or-later",
	"type": "parserhook",
	"requires": {
		"MediaWiki": ">= 1.36.0"
	},
	"MessagesDirs": {
		"Score": [
			"i18n"
		]
	},
	"AutoloadClasses": {
		"Score": "includes/Score.php",
		"ScoreDisabledException": "includes/ScoreDisabledException.php",
		"ScoreException": "includes/ScoreException.php",
		"ScoreHooks": "includes/ScoreHooks.php",
		"ScoreFormatter": "includes/ScoreFormatter.php",
		"ScoreVeResourceLoaderModule": "includes/ScoreVeResourceLoaderModule.php",
		"LilypondErrorMessageBeautifier": "includes/LilypondErrorMessageBeautifier.php"
	},
	"ResourceModules": {
		"ext.score.visualEditor": {
			"class": "ScoreVeResourceLoaderModule",
			"scripts": [
				"ve-score/ve.dm.MWScoreNode.js",
				"ve-score/ve.ce.MWScoreNode.js",
				"ve-score/ve.ui.MWScoreInspector.js",
				"ve-score/ve.ui.MWScoreInspectorTool.js"
			],
			"styles": [
				"ve-score/ve.ui.MWScoreInspector.css"
			],
			"dependencies": [
				"ext.visualEditor.mwcore",
				"ext.score.visualEditor.icons"
			],
			"messages": [
				"score-visualeditor-mwscoreinspector-card-advanced",
				"score-visualeditor-mwscoreinspector-card-audio",
				"score-visualeditor-mwscoreinspector-card-notation",
				"score-visualeditor-mwscoreinspector-lang",
				"score-visualeditor-mwscoreinspector-lang-abc",
				"score-visualeditor-mwscoreinspector-lang-lilypond",
				"score-visualeditor-mwscoreinspector-notelanguage",
				"score-visualeditor-mwscoreinspector-override-midi",
				"score-visualeditor-mwscoreinspector-override-midi-placeholder",
				"score-visualeditor-mwscoreinspector-override-ogg",
				"score-visualeditor-mwscoreinspector-override-ogg-placeholder",
				"score-visualeditor-mwscoreinspector-raw",
				"score-visualeditor-mwscoreinspector-title",
				"score-visualeditor-mwscoreinspector-vorbis"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.score.visualEditor.icons": {
			"class": "ResourceLoaderImageModule",
			"selectorWithoutVariant": ".oo-ui-icon-{name}",
			"selectorWithVariant": ".oo-ui-image-{variant}.oo-ui-icon-{name}",
			"variants": {
				"progressive": {
					"color": "#36c"
				},
				"invert": {
					"color": "#fff"
				}
			},
			"images": {
				"score": {
					"file": "ve-score/score.svg",
					"variants": [
						"progressive"
					]
				}
			}
		},
		"ext.score.popup": {
			"packageFiles": [
				"ext.score.popup/popup.js"
			],
			"styles": "ext.score.popup/popup.css",
			"dependencies": [
				"mediawiki.api"
			],
			"messages": [
				"score-download-midi-file",
				"score-download-source-file"
			]
		},
		"ext.score.errors": {
			"styles": "ext.score.errors/ext.score.errors.css"
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "Score/modules"
	},
	"Hooks": {
		"ParserFirstCallInit": [
			"ScoreHooks::onParserFirstCallInit"
		],
		"SoftwareInfo": [
			"ScoreHooks::onSoftwareInfo"
		],
		"WikibaseClientDataTypes": [
			"ScoreHooks::onWikibaseClientDataTypes"
		],
		"WikibaseRepoDataTypes": [
			"ScoreHooks::onWikibaseRepoDataTypes"
		]
	},
	"config": {
		"ScoreTrim": {
			"value": null,
			"description": "Set to false to keep margins on the generated PNG files"
		},
		"ScoreShell": {
			"value": "/bin/sh",
			"description": "The shell to use to run the rendering script. On Windows this should be the full path to bash.exe, not git-bash.exe."
		},
		"ScoreLilyPond": {
			"value": "/usr/bin/lilypond"
		},
		"ScoreAbc2Ly": {
			"value": "/usr/bin/abc2ly"
		},
		"ScoreFluidsynth": {
			"value": "/usr/bin/fluidsynth"
		},
		"ScoreSoundfont": {
			"value": "/usr/share/sounds/sf2/FluidR3_GM.sf2"
		},
		"ScoreLame": {
			"value": "/usr/bin/lame"
		},
		"ScoreGhostscript": {
			"value": "/usr/bin/gs"
		},
		"ScoreImageMagickConvert": {
			"value": false,
			"description": "Path to ImageMagick's convert command. If not set, will fallback to $wgImageMagickConvertCommand"
		},
		"ScoreEnvironment": {
			"value": [],
			"description": "A name/value map of environment variables to be passed to all shell commands"
		},
		"ScoreSafeMode": {
			"value": true,
			"description": "Set to false if LilyPond inputs are trusted, sanitized, or sandboxed. This disables LilyPond's safe mode, enabling some features"
		},
		"ScoreDisableExec": {
			"value": false,
			"description": "Set this to true to disable all new rendering of scores"
		},
		"ScoreLilyPondFakeVersion": {
			"value": false,
			"description": "Set this to a version string which will be used even if exec is disabled"
		},
		"ScorePath": {
			"value": false
		},
		"ScoreDirectory": {
			"value": false
		},
		"ScoreFileBackend": {
			"value": false
		},
		"ScoreMaxLength": {
			"value": 400
		},
		"ScoreOfferSourceDownload": {
			"value": false,
			"description": "Enable a UI for downloading .ly files generated by Score. This is insecure since .ly files may contain scripts which are executed when the file is rendered on the user's computer."
		},
		"MusicalNotationEnableWikibaseDataType": {
			"value": false
		},
		"WikibaseMusicalNotationLineWidthInches": {
			"value": 0
		}
	},
	"TrackingCategories": [
		"score-deprecated-category",
		"score-error-category"
	],
	"attributes": {
		"VisualEditor": {
			"PluginModules": [
				"ext.score.visualEditor"
			]
		}
	},
	"manifest_version": 2
}
